<mat-card class="processor-card">
  <mat-card-header>
    <mat-card-title>
      <mat-icon>auto_fix_high</mat-icon>
      AI Background Removal
    </mat-card-title>
  </mat-card-header>

  <mat-card-content>
    <!-- Image Preview -->
    <div class="image-preview" *ngIf="imagePreview">
      <img [src]="imagePreview" alt="Original image" class="preview-image">
    </div>

    <!-- Process Button -->
    <div class="actions">
      <button 
        mat-raised-button 
        color="primary" 
        [disabled]="isProcessing"
        (click)="processImage()">
        <mat-icon *ngIf="!isProcessing">smart_toy</mat-icon>
        <mat-spinner *ngIf="isProcessing" diameter="20"></mat-spinner>
        <span>{{ isProcessing ? 'Processing...' : 'Remove Background' }}</span>
      </button>
    </div>

    <!-- Progress Bar -->
    <div *ngIf="isProcessing" class="progress-section">
      <mat-progress-bar 
        mode="determinate" 
        [value]="progress.progress"
        [color]="progress.status === 'error' ? 'warn' : 'primary'">
      </mat-progress-bar>
      <p class="progress-text">
        <mat-icon class="progress-icon">{{ getProgressIcon() }}</mat-icon>
        {{ progress.message }}
      </p>
      <p class="progress-percentage">{{ progress.progress | number:'1.0-0' }}%</p>
    </div>

    <!-- Results -->
    <div *ngIf="processedImage" class="results-section">
      <h3>Processed Result</h3>
      
      <div class="comparison">
        <div class="image-container">
          <h4>Original</h4>
          <img [src]="imagePreview" alt="Original" class="result-image">
          <p class="image-label">Before</p>
        </div>
        
        <mat-icon class="comparison-arrow">arrow_forward</mat-icon>
        
        <div class="image-container">
          <h4>Processed</h4>
          <img [src]="processedImageUrl" alt="Processed" class="result-image">
          <p class="image-label">After</p>
        </div>
      </div>
      
      <div class="download-section">
        <button 
          mat-raised-button 
          color="accent" 
          (click)="downloadImage()">
          <mat-icon>download</mat-icon>
          Download Processed Image
        </button>
      </div>
    </div>
  </mat-card-content>
</mat-card>
