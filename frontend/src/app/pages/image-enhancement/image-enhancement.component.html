<div class="image-enhancement-container">
  <div class="intro-section">
    <h1>AI Image Enhancement</h1>
    <p>Enhance your images with AI-powered brightness, contrast, saturation, and sharpness adjustments</p>
  </div>

  <app-image-uploader 
    (imageUploaded)="onImageUploaded($event)"
    (imageRemoved)="onImageRemoved()"
    [isProcessing]="isProcessing">
  </app-image-uploader>

  <ng-container *ngIf="uploadedImage">
    <div class="enhancement-grid">
      <div class="grid-controls">
        <app-enhancement-controls
          (optionsChanged)="onOptionsChanged($event)"
          [disabled]="isProcessing">
        </app-enhancement-controls>
      </div>

      <div class="grid-processor">
        <app-enhancement-processor
          #processor
          [image]="uploadedImage"
          [enhancementOptions]="enhancementOptions"
          (processingStart)="onProcessingStart()"
          (processingComplete)="onProcessingComplete($event)"
          (processingError)="onProcessingError($event)">
        </app-enhancement-processor>
      </div>
    </div>

    <!-- Results Panel (full width, below grid) -->
    <app-result-comparison
      #resultsPanel
      *ngIf="processor.processedImage && !processor.isProcessing"
      title="Enhanced Result"
      [originalImage]="processor.imagePreview"
      [resultImage]="processor.processedImageUrl"
      resultTitle="Enhanced"
      downloadLabel="Download Enhanced Image"
      (download)="processor.downloadImage()">
    </app-result-comparison>
  </ng-container>
</div>
